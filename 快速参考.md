# MD文件浏览器 - 快速参考

## 🚀 最快启动方式

**双击运行：** `管理.bat`

或者在PowerShell中运行：
```powershell
.\manage.ps1
```

## 📋 菜单选项快速参考

| 选项 | 功能 | 说明 |
|------|------|------|
| **1** | 启动服务 | 启动MD文件浏览器 |
| **2** | 停止服务 | 安全停止服务 |
| **3** | 重启服务 | 一键重启（停止+启动） |
| **4** | 查看状态 | 显示当前运行状态 |
| **5** | 查看日志 | 查看最近50行日志 |
| **6** | 实时监控 | 3秒自动刷新（Ctrl+C退出） |
| **7** | 刷新配置 | 重新加载env.ini |
| **8** | 浏览器打开 | 自动打开浏览器访问 |
| **0** | 退出 | 退出管理界面 |

## 🎯 常见操作流程

### 首次启动
```
1. 双击 "管理.bat"
2. 选择 [1] 启动服务
3. 选择 [8] 在浏览器中打开
```

### 修改配置后应用
```
1. 编辑 env.ini 文件
2. 运行管理脚本
3. 选择 [7] 刷新配置（查看配置是否正确）
4. 选择 [3] 重启服务（应用新配置）
```

### 查看服务状态
```
方式1: 启动管理脚本后直接显示
方式2: 选择 [4] 查看状态
方式3: 选择 [6] 实时监控
```

### 故障排查
```
1. 选择 [5] 查看日志
2. 检查错误信息
3. 选择 [2] 停止服务
4. 修复问题后选择 [1] 启动服务
```

## ⌨️ 快捷键

- **Ctrl+C**: 在实时监控模式下返回主菜单
- **任意键**: 在操作完成后继续（等待提示时）

## 🌐 默认访问地址

- **本地**: http://localhost:8002
- **局域网**: http://[你的IP]:8002

*端口号根据 env.ini 配置而定*

## 📝 配置文件位置

`env.ini` - 在项目根目录

主要配置项：
- `scanfolder`: 扫描的目录（多个用逗号分隔）
- `port`: 监听端口
- `host`: 监听地址

## ⚠️ 注意事项

1. **修改配置后必须重启服务**才能生效
2. **退出管理脚本不会停止服务**，服务继续在后台运行
3. 如需停止服务，必须选择 [2] 停止服务
4. 实时监控模式会占用终端，按 Ctrl+C 退出

## 🔧 常见问题

**Q: 服务无法启动？**
- 检查Python是否已安装
- 检查依赖是否已安装：`pip install -r requirements.txt`
- 查看日志文件：选择 [5]

**Q: 端口被占用？**
- 管理脚本会自动检测
- 使用 [2] 停止服务，或修改 env.ini 的端口号

**Q: 无法停止服务？**
- 以管理员身份运行PowerShell
- 或者使用任务管理器手动结束 python.exe 进程

**Q: 配置修改不生效？**
- 确保选择了 [3] 重启服务
- 仅 [7] 刷新配置不会影响已运行的服务

## 💡 推荐工作流程

### 日常使用
```
双击 管理.bat → [1]启动 → [8]打开浏览器 → [0]退出管理界面
（服务继续在后台运行）
```

### 监控模式
```
双击 管理.bat → [1]启动 → [6]实时监控
（保持终端开启，随时查看状态）
```

### 开发调试
```
双击 管理.bat → 
[1]启动 → [5]查看日志 → 修改代码 → [3]重启 → [5]查看日志
（循环调试）
```

---

**提示**: 详细使用说明请查看 [管理脚本使用说明.md](管理脚本使用说明.md)

